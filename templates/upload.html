{% extends 'base.html' %}

{% block base %}


<main
    style="max-width:800px; margin:50px auto; padding:20px; background-color:#FFFFFF; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.05);">
    <h1 style="color:#333333; text-align:center; margin-bottom:30px;">Upload Your Media</h1>
    <!-- Display Django messages -->
    {% if messages %}
    <div style="margin-top:10px;">
        {% for message in messages %}
        <p style="color: {% if message.tags == 'success' %}#28A745{% else %}#FF4500{% endif %};">
            {{ message }}
        </p>
        {% endfor %}
    </div>
    {% endif %}
    <!-- <form id="uploadForm" action="{% url 'upload' %}" method="POST" enctype="multipart/form-data"
        style="display:flex; flex-direction:column; gap:20px; background-color:#FFFFFF; padding:30px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.05); max-width:600px; margin:auto;">
        {% csrf_token %}

        <label style="font-weight:bold; color:#333333;">Upload Media</label>
        <input type="file" name="mediaFile" accept="video/mp4" required
            style="padding:12px; border-radius:8px; border:1px solid #ccc; background-color:#F0F4F8; color:#333333; font-size:1rem;">

        <label style="font-weight:bold; color:#333333;">Title</label>
        <input type="text" name="title" maxlength="100" required
            style="padding:12px; border-radius:8px; border:1px solid #ccc; background-color:#F0F4F8; color:#333333; font-size:1rem;">

        <label style="font-weight:bold; color:#333333;">Description</label>
        <textarea name="description" rows="4" required
            style="padding:12px; border-radius:8px; border:1px solid #ccc; background-color:#F0F4F8; color:#333333; font-size:1rem;"></textarea>

        <label style="font-weight:bold; color:#333333;">Tags</label>
        <input type="text" name="tags"
            style="padding:12px; border-radius:8px; border:1px solid #ccc; background-color:#F0F4F8; color:#333333; font-size:1rem;">

        <label style="font-weight:bold; color:#333333;">Category</label>
        <select name="category" required
            style="padding:12px; border-radius:8px; border:1px solid #ccc; background-color:#F0F4F8; color:#333333; font-size:1rem;">
            <option value="">Select Category</option>
            <option value="Education">Education</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Lifestyle">Lifestyle</option>
            <option value="Travel">Travel</option>
        </select>

        <label style="font-weight:bold; color:#333333;">Caption</label>
        <input type="text" name="caption"
            style="padding:12px; border-radius:8px; border:1px solid #ccc; background-color:#F0F4F8; color:#333333; font-size:1rem;">

        <label style="font-weight:bold; color:#333333;">User Name</label>
        <input type="text" name="username" required
            style="padding:12px; border-radius:8px; border:1px solid #ccc; background-color:#F0F4F8; color:#333333; font-size:1rem;">
        <small style="color:#666666;">Only the User Name entered here will be rewarded.</small>
        <!-- Display Django messages -->
        <!-- {% if messages %}
        <div style="margin-top:10px;">
            {% for message in messages %}
            <p style="color: {% if message.tags == 'success' %}#28A745{% else %}#FF4500{% endif %};">
                {{ message }}
            </p>
            {% endfor %}
        </div>
        {% endif %}
        <button type="submit"
            style="background-color:#A8D0E6; color:#FFFFFF; border:none; padding:12px; border-radius:8px; font-size:1rem; font-weight:bold; cursor:pointer; transition:all 0.2s ease-in-out;"
            onmouseover="this.style.backgroundColor='#96c3e0'; this.style.transform='scale(1.05)';"
            onmouseout="this.style.backgroundColor='#A8D0E6'; this.style.transform='scale(1)';">
            Upload Media
        </button>
    </form>
 --> <div style="max-width:600px; margin:50px auto; padding:30px; background-color:#F0F4F8; 
            border-radius:12px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.05);">
    <h2 style="color:#007BFF; font-size:1.8rem; margin-bottom:15px;">Coming Soon!</h2>
    <p style="color:#333333; font-size:1rem; line-height:1.6;">
        We are working hard to bring the video upload feature to our platform. 
        Stay tuned for more updates and exciting new features! ðŸš€
    </p>
</div>



</main>

<script>
    // Optional: Validate video duration (30 to 60 sec)
    document.getElementById('uploadForm').addEventListener('submit', function (e) {
        const fileInput = document.querySelector('input[name="mediaFile"]');
        const file = fileInput.files[0];
        if (file) {
            const url = URL.createObjectURL(file);
            const video = document.createElement('video');
            video.preload = 'metadata';
            video.src = url;
            video.onloadedmetadata = function () {
                URL.revokeObjectURL(url);
                const duration = video.duration;
                if (duration > 30 && duration < 60) {
                    alert('Video must be between 30 and 60 seconds.');
                    e.preventDefault();
                }
            };
        }
    });
</script>


{% endblock base %}